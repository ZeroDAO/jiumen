import{c as k}from"./@antv-806868f3.js";var y={exports:{}};(function(c,p){(function(a,s){s(p)})(k,function(a){const s=Symbol("newer"),r=Symbol("older");class f{constructor(t,e){typeof t!="number"&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}_markEntryAsUsed(t){t!==this.newest&&(t[s]&&(t===this.oldest&&(this.oldest=t[s]),t[s][r]=t[r]),t[r]&&(t[r][s]=t[s]),t[s]=void 0,t[r]=this.newest,this.newest&&(this.newest[s]=t),this.newest=t)}assign(t){let e,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let m=t[Symbol.iterator]();for(let h=m.next();!h.done;h=m.next()){let n=new v(h.value[0],h.value[1]);if(this._keymap.set(n.key,n),e?(e[s]=n,n[r]=e):this.oldest=n,e=n,i--==0)throw new Error("overflow")}this.newest=e,this.size=this._keymap.size}get(t){var e=this._keymap.get(t);return e?(this._markEntryAsUsed(e),e.value):void 0}set(t,e){var i=this._keymap.get(t);return i?(i.value=e,this._markEntryAsUsed(i),this):(this._keymap.set(t,i=new v(t,e)),this.newest?(this.newest[s]=i,i[r]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var t=this.oldest;if(t)return this.oldest[s]?(this.oldest=this.oldest[s],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),t[s]=t[r]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]}find(t){let e=this._keymap.get(t);return e?e.value:void 0}has(t){return this._keymap.has(t)}delete(t){var e=this._keymap.get(t);return e?(this._keymap.delete(e.key),e[s]&&e[r]?(e[r][s]=e[s],e[s][r]=e[r]):e[s]?(e[s][r]=void 0,this.oldest=e[s]):e[r]?(e[r][s]=void 0,this.newest=e[r]):this.oldest=this.newest=void 0,this.size--,e.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new u(this.oldest)}values(){return new d(this.oldest)}entries(){return this}[Symbol.iterator](){return new l(this.oldest)}forEach(t,e){typeof e!="object"&&(e=this);let i=this.oldest;for(;i;)t.call(e,i.value,i.key,this),i=i[s]}toJSON(){for(var t=new Array(this.size),e=0,i=this.oldest;i;)t[e++]={key:i.key,value:i.value},i=i[s];return t}toString(){for(var t="",e=this.oldest;e;)t+=String(e.key)+":"+e.value,e=e[s],e&&(t+=" < ");return t}}a.LRUMap=f;function v(o,t){this.key=o,this.value=t,this[s]=void 0,this[r]=void 0}function l(o){this.entry=o}l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){let o=this.entry;return o?(this.entry=o[s],{done:!1,value:[o.key,o.value]}):{done:!0,value:void 0}};function u(o){this.entry=o}u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let o=this.entry;return o?(this.entry=o[s],{done:!1,value:o.key}):{done:!0,value:void 0}};function d(o){this.entry=o}d.prototype[Symbol.iterator]=function(){return this},d.prototype.next=function(){let o=this.entry;return o?(this.entry=o[s],{done:!1,value:o.value}):{done:!0,value:void 0}}})})(y,y.exports);const _=y.exports;export{_ as l};
