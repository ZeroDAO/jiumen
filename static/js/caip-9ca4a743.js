function o(){return o=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},o.apply(this,arguments)}var c={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},I={name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},u={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},A={name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:c,1:u}}},x={name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:c,1:u,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}},f={2:c,10:I,19:{assetName:u,assetType:A,assetId:x}};function p(r,t){return r.split(t.parameters.delimiter)}function d(r,t){var e=p(r,t),a={};return e.forEach(function(n,s){a[t.parameters.values[s].name]=n}),a}function m(r,t){return Object.values(t.parameters.values).map(function(e){var a=r[e.name];return typeof a=="string"?a:m(a,e)}).join(t.parameters.delimiter)}function h(r,t){if(!new RegExp(t.regex).test(r))return!1;var e=p(r,t);if(e.length!==Object.keys(t.parameters.values).length)return!1;var a=e.map(function(n,s){return new RegExp(t.parameters.values[s].regex).test(n)}).filter(function(n){return!!n});return a.length===e.length}var i=function(){function r(e){typeof e=="string"&&(e=r.parse(e)),this.namespace=e.namespace,this.reference=e.reference}r.parse=function(a){if(!h(a,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+a);return new r(d(a,this.spec)).toJSON()},r.format=function(a){return m(a,this.spec)};var t=r.prototype;return t.toString=function(){return r.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},r}();i.spec=f[2];var O=function(){function r(e){typeof e=="string"&&(e=r.parse(e)),this.chainId=new i(e.chainId),this.address=e.address}r.parse=function(a){if(!h(a,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+a);var n=d(a,this.spec),s=n.namespace,v=n.reference,l=n.address,g=new i({namespace:s,reference:v});return new r({chainId:g,address:l}).toJSON()},r.format=function(a){var n=new i(a.chainId),s=o({},n.toJSON(),{address:a.address});return m(s,this.spec)};var t=r.prototype;return t.toString=function(){return r.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},r}();O.spec=f[10];export{O as A,i as C};
